//
//  STACK OVERFLOW CAREERS
//  http://careers.stackoverflow.com
//
//  Modules — Cards
//
//  TABLE OF CONTENTS
//  • VARIABLES
//  • BASE STYLE
//  • JOB LISTINGS
//  • COMPANY PAGES
//
//  ============================================================================
//  $ VARIABLES
//  ----------------------------------------------------------------------------
@card-background:                   @white;
@card-border:                       @gray-200;
@card-padding:                      ceil(@padding-double - @padding-half);
@card-meta-color:                   @gray-400;
@card-metaStrong-color:             @gray-600;
@card-highlight-background:         fade(@gray-100,50%);
@card-stats-color:                  @gray-600;
@card-stats_small-color:            @gray-500;
@card-notice-background:            @yellow-100;
@card-notice-border:                spin(desaturate(lighten(@yellow,32%),76%),-2);
@card-notice-color:                 spin(desaturate(darken(@yellow,16%),92%),-1);
@card-pages-logo-border:            @white;
@card-pages-cover-height:           120px;
@card-pages-logo-size:              72px;


//  ============================================================================
//  $ BASE STYLES
//  ----------------------------------------------------------------------------
.card {
    background-color: @card-background;
    border: 1px solid @card-border;
    border-radius: @borderRadius-base;

    // Type Styles
    .-title {
        margin-bottom: 4px;
        .fontSize(m);
        .lineHeight(tight);

        > a { color: @link-color; }
    }
    .-meta {
        margin-bottom: 0;
        .fontSize(s);
        .lineHeight(tight);
        color: @card-meta-color;

        strong {
            .fontWeight(4);
            color: @card-metaStrong-color;
        }
    }

    // Stats Area
    .-stats {
        padding-right: @card-padding;
        padding-bottom: @card-padding;
        padding-left: @card-padding;

        > div {
            float: left;
            margin-left: @margin-base * 3;
            &:first-of-type { margin-left: 0; }
        }

        .-label, .-number {
            color: @card-stats-color;
            .fontWeight(7);

            > small {
                color: @card-stats_small-color;
                .fontSize(s);
                .fontWeight(4);
            }
        }
        .-label {
            .fontSize(base);
            + .-number { margin-left: 0; }
        }
        .-number {
            display: inline-block;
            margin-left: @card-padding;
            .fontRem(28);
            .lineHeight(tighter);
            letter-spacing: -1px;

            > small {
                display: block;
                letter-spacing: 0;
            }
        }
    }

    //  Notices
    .-notice {
        padding-left: @card-padding;
        padding-right: @card-padding;
        padding-top: @padding-half + 4 ;
        padding-bottom: @padding-half + 4;
        background-color: @card-notice-background;
        border-top: 1px solid @card-notice-border;
        border-bottom: 1px solid @card-notice-border;
        color: @card-notice-color;
    }
}

//  ============================================================================
//  $  JOB LISTINGS
//  ----------------------------------------------------------------------------
.card.-jobs {
    > header { padding: @card-padding; }

    .-stats {
        padding-top: @padding-base + 2;
        background-color: @card-highlight-background;
        border-top: 1px solid @card-border;
    }
    .-notice + .-stats { border-top-color: transparent; }
}

//  ============================================================================
//  $  COMPANY PAGES
//  ----------------------------------------------------------------------------
.card.-pages {
    position: relative;
    margin-bottom: @card-padding;
    padding: 3px;

    .-title   { .fontSize(l); }
    .-content { position: relative; }

    // Position Cover Photo
    .-cover {
        position: relative;
        background-position: center 90%;
        background-repeat: no-repeat;
        background-clip: border-box;
        background-size: cover;

        // Gradient Overlay
        &:after {
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 50%;
            content: "";
            .gradientLinear(fade(@black,0%),fade(@black,30%));
        }
    }

    // Position Logo
    .-logo {
        position: absolute;
        top: 0;

        > img {
            border: 4px solid @card-pages-logo-border;
            width: @card-pages-logo-size;
            height: @card-pages-logo-size;
        }
    }

    // Company Information
    .-info { padding: @card-padding; }
}

//  -- Default Company Pages
.card.-pages._stacked {
    .-cover {
        width: 100%;
        height: @card-pages-cover-height;
    }
    .-logo {
        margin-top: -(@card-pages-logo-size / 2);
        width: 100%;
        text-align: center;
    }
    .-info {
        margin-top: 3px;
        padding-top: (@card-pages-logo-size / 2) + 10px;
        background-color: @card-highlight-background;
        text-align: center;
    }
    .-stats { padding-top: @card-padding; }
}
//  -- Full Width Company Pages
.card.-pages._full {
    .-content {
        margin-left: 30%;
        width: 70%;
    }
    .-cover {
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 30%;
        min-height: 100%;
        border-radius: @borderRadius-base 0 0 @borderRadius-base;
        border: 3px solid @white;
        border-right: none;
    }

    .-info {
        padding: @card-padding;
        background-color: transparent;
    }
    .-logo {
        top: @card-padding;
        left: -(@card-pages-logo-size - 4);
    }
}

//  -- Published
.card.is-published {
    .icon.-ui-checkmark {
        position: absolute;
        top: 11px;
        left: 10px;
        height: 14px;
        width: 18px;
        z-index: @zindex-popover + 1;
    }
    &:after {
        position: absolute;
        left: 3px;
        top: 3px;
        width: 0;
        height: 0;
        content: "";
        border-top: 48px solid @green-600;
        border-right: 50px solid transparent;
        z-index: @zindex-popover;
    }
}